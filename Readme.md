# Сервис для поиска информации о компании по ИНН

### Необходимо сделать gRPC обёртку над сайтом https://www.rusprofile.ru/

Сервис должен реализовывать один метод, принимающий на вход ИНН компании, ищущий компанию на rusprofile,
и возвращающий её ИНН, КПП, название, ФИО руководителя. Сервис должен возвращать осмысленные ошибки при
неуспешном поиске (некорректный ИНН, компания не найдена, т.д.).

Тестовое задание ставит перед собой задачу показать ваш подход к организации кода проектов, следованию
best practices языка Go и других применяемых технологий, а также подхода к обработке ошибок, валидации данных.
Доработки сверх описанного минимума приветствуются, если вы считаете их уместными.

### Технологии:

* Сервис должен быть написан на Go с использованием Go Modules.
* Предоставлять API через [gRPC](https://grpc.io/docs/languages/go/quickstart/).
* Предоставлять API через HTTP с помощью [grpc-gateway](https://github.com/grpc-ecosystem/grpc-gateway).
* Предоставлять Swagger UI с документацией, сгенерированной из .proto файла с помощью protoc-gen-swagger.
  Документация должна быть доступна по пути `/swaggerui`.
* Быть упакован в Docker контейнер.

### Решение:

В ходе работы, был создан gRPC сервис с HTTP gateway, позволяющий выводить информацию о компании по ИНН.  


## Как использовать?

- Запуск сервиса производится с помощью выполнения команды `make compose-up`
- По окончанию работы с сервисом, остановить и удалить созданный контейнер можно командой `make compose-down`
  
Для выполенения последующих запросов предлагается использовать приведенные ниже Http запросы и Rpc вызовы.
* Для выполенения Http запросов предлагается использовать CURL или Postman
* Для выполенения RPC вызовов предлагается использовать клиент [evans](https://github.com/ktr0731/evans) или Postman

### Пример использования API сервиса:

Пример Http запроса:

```curl
curl --location --request GET '127.0.0.1:8081/v1/get_company/2456015737
```

Пример ответа:
```json
{
  "company": {
    "inn": "5252043072",
    "kpp": "525201001",
    "companyName": "",
    "fio": "Тычинина Елена Юрьевна"
  }
}
```

Пример RPC вызова:

Для подключения с evans

```evans
evans --host 0.0.0.0 --port 8082 -r repl  
```


Выбрать доступный пакет
```evans
package inn_service.service.v1
```

Выбрать доступный сервис
```evans
service CompanyService
```

Выполнить вызов для поиска компании
```evans
call GetCompany
```

Ввести в input Инн 
```evans
inn (TYPE_STRING) => 2456015737
```

Пример ответа:
```json
{
  "company": {
    "fio": "Тычинина Елена Юрьевна",
    "inn": "5252043072",
    "kpp": "525201001"
  }
}
```